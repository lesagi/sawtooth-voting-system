{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\sagi.levi\\\\DevProjects\\\\sawtooth-dev\\\\client-next\\\\src\\\\OpenCampaign.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport { toast, ToastContainer } from 'react-toastify';\n\nvar axios = require('axios');\n\nvar OpenCampaign = function OpenCampaign() {\n  _s();\n\n  useEffect(function () {//console.log(`SignMeUp:useEffect called`);\n  });\n\n  var _useState = useState(''),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(false),\n      nameValid = _useState2[0],\n      setNameValid = _useState2[1];\n\n  var _useState3 = useState(false),\n      sendProcessing = _useState3[0],\n      setSendProcessing = _useState3[1];\n\n  function validateCampaignName(name) {\n    // const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    // return re.test(mail);\n    return true;\n  }\n\n  var notify = function notify() {\n    toast.info(\"You will be notified of upcoming events \".concat(name));\n  };\n\n  function addCampaignReqHandler(e) {\n    e.preventDefault();\n    setSendProcessing(true);\n    new Promise( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(resolve) {\n        var res;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios.post(\"http://localhost:5000/open_campaign\", {\n                  name: name\n                });\n\n              case 2:\n                res = _context.sent;\n                console.log(res);\n                resolve(res.data);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()).then(function () {\n      setSendProcessing(false);\n      notify();\n      setName('');\n    });\n  }\n\n  var buttonText = sendProcessing ? 'processing...' : 'Submit';\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, __jsx(ToastContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), __jsx(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"campaignName\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Campaign Name\"), __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"campaignName\",\n    name: \"CampaignName\",\n    \"aria-describedby\": \"campaign name\",\n    placeholder: \"Enter Campaign name\",\n    value: name,\n    onChange: function onChange(e) {\n      setNameValid(validateCampaignName(e.target.value));\n      return setName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }), __jsx(\"small\", {\n    id: \"emailHelp\",\n    className: \"form-text text-muted\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"This name will show publicly to all users\")), __jsx(\"button\", {\n    disabled: !nameValid || sendProcessing,\n    className: \"btn btn-primary\",\n    onClick: addCampaignReqHandler,\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, buttonText)));\n};\n\n_s(OpenCampaign, \"Xn7XMwwGP44+OiPsp3V4JWARoq0=\");\n\n_c = OpenCampaign;\nexport default OpenCampaign;\n\nvar _c;\n\n$RefreshReg$(_c, \"OpenCampaign\");","map":{"version":3,"sources":["C:/Users/sagi.levi/DevProjects/sawtooth-dev/client-next/src/OpenCampaign.js"],"names":["React","useEffect","useState","toast","ToastContainer","axios","require","OpenCampaign","name","setName","nameValid","setNameValid","sendProcessing","setSendProcessing","validateCampaignName","notify","info","addCampaignReqHandler","e","preventDefault","Promise","resolve","post","res","console","log","data","then","buttonText","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { toast, ToastContainer } from 'react-toastify';\r\nconst axios = require('axios');\r\n\r\nconst OpenCampaign = () => {\r\n  useEffect(() => {\r\n    //console.log(`SignMeUp:useEffect called`);\r\n  });\r\n\r\n  const [name, setName] = useState('');\r\n  const [nameValid, setNameValid] = useState(false);\r\n  const [sendProcessing, setSendProcessing] = useState(false);\r\n\r\n  function validateCampaignName(name) {\r\n    // const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    // return re.test(mail);\r\n    return true;\r\n  }\r\n\r\n  const notify = () => {\r\n    toast.info(`You will be notified of upcoming events ${name}`);\r\n  };\r\n\r\n  function addCampaignReqHandler(e) {\r\n    e.preventDefault();\r\n    setSendProcessing(true);\r\n    new Promise(async function (resolve) {\r\n      const res = await axios.post(`http://localhost:5000/open_campaign`, {\r\n        name,\r\n      });\r\n      console.log(res);\r\n      resolve(res.data);\r\n    }).then(() => {\r\n      setSendProcessing(false);\r\n      notify();\r\n      setName('');\r\n    });\r\n  }\r\n\r\n  const buttonText = sendProcessing ? 'processing...' : 'Submit';\r\n\r\n  return (\r\n    <div>\r\n      <ToastContainer />\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"campaignName\">Campaign Name</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            id=\"campaignName\"\r\n            name=\"CampaignName\"\r\n            aria-describedby=\"campaign name\"\r\n            placeholder=\"Enter Campaign name\"\r\n            value={name}\r\n            onChange={(e) => {\r\n              setNameValid(validateCampaignName(e.target.value));\r\n              return setName(e.target.value);\r\n            }}\r\n          />\r\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n            This name will show publicly to all users\r\n          </small>\r\n        </div>\r\n        <button\r\n          disabled={!nameValid || sendProcessing}\r\n          className=\"btn btn-primary\"\r\n          onClick={addCampaignReqHandler}\r\n          type=\"submit\"\r\n        >\r\n          {buttonText}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OpenCampaign;\r\n"]},"metadata":{},"sourceType":"module"}