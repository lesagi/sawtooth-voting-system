{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\sagi.levi\\\\DevProjects\\\\sawtooth-dev\\\\client-next\\\\src\\\\components\\\\CampaignManager\\\\CampaignManager.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from 'react';\nimport CampaignManagerStyles from './CampaignManager.module.scss';\nimport axios from 'axios';\n\nvar CampaignManager = function CampaignManager() {\n  _s();\n\n  var _jsx;\n\n  var props = {\n    name: '2027'\n  };\n  var name = props.name;\n\n  var _useState = useState(),\n      parties = _useState[0],\n      setParties = _useState[1];\n\n  var _useState2 = useState(),\n      count = _useState2[0],\n      setCount = _useState2[1];\n\n  var _useState3 = useState(),\n      status = _useState3[0],\n      setStatus = _useState3[1];\n\n  var _useState4 = useState(),\n      admins = _useState4[0],\n      setAdmins = _useState4[1];\n\n  useEffect(function () {\n    axios.get(\"http://127.0.0.1:5000/campaigns_state/\".concat(name)).then(function (res) {\n      setParties(res.data.res.parties);\n      setCount(res.data.res.count);\n      setStatus(res.data.res.state);\n      setAdmins(res.data.res.admins.split(','));\n    });\n  });\n\n  var statusOnClickHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(event.target.innerText); // const status = event.target.innerText.toLowerCase();\n              // const proxyRes = await axios.post(\n              //   `http://127.0.0.1:5000/campaigns_state/${name}?status=${status}`,\n              // );\n              // const { data } = proxyRes;\n              // const { success, res } = data;\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function statusOnClickHandler(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", (_jsx = {\n    className: \"row\"\n  }, _defineProperty(_jsx, \"className\", CampaignManagerStyles.section), _defineProperty(_jsx, \"__self\", _this), _defineProperty(_jsx, \"__source\", {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 7\n  }), _jsx), __jsx(\"div\", {\n    className: \"col-12\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, __jsx(\"h3\", {\n    className: CampaignManagerStyles.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }, __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, name), console.log(parties, count, status, admins), __jsx(\"ul\", {\n    className: \"list-inline \".concat(CampaignManagerStyles.statusList),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, ['setup', 'open', 'suspended', 'closed'].map(function (item) {\n    return __jsx(\"li\", {\n      key: item,\n      className: \"\".concat(CampaignManagerStyles.status, \" list-inline-item\"),\n      onClick: statusOnClickHandler,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }\n    }, item);\n  }))), __jsx(\"h6\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"Admins:\"), __jsx(\"ul\", {\n    className: \"list-inline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, admins && admins.map(function (admin) {\n    return __jsx(\"li\", {\n      className: \"list-inline-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, admin);\n  })))));\n};\n\n_s(CampaignManager, \"WoRmyBLkdRPH+xzAIzh5BTigq5A=\");\n\n_c = CampaignManager;\nexport default CampaignManager;\n\nvar _c;\n\n$RefreshReg$(_c, \"CampaignManager\");","map":{"version":3,"sources":["C:/Users/sagi.levi/DevProjects/sawtooth-dev/client-next/src/components/CampaignManager/CampaignManager.js"],"names":["React","useEffect","useState","CampaignManagerStyles","axios","CampaignManager","props","name","parties","setParties","count","setCount","status","setStatus","admins","setAdmins","get","then","res","data","state","split","statusOnClickHandler","event","console","log","target","innerText","section","header","statusList","map","item","admin"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport CampaignManagerStyles from './CampaignManager.module.scss';\nimport axios from 'axios';\n\nconst CampaignManager = () => {\n  const props = {\n    name: '2027',\n  };\n  const { name } = props;\n  const [parties, setParties] = useState();\n  const [count, setCount] = useState();\n  const [status, setStatus] = useState();\n  const [admins, setAdmins] = useState();\n  useEffect(() => {\n    axios.get(`http://127.0.0.1:5000/campaigns_state/${name}`).then((res) => {\n      setParties(res.data.res.parties);\n      setCount(res.data.res.count);\n      setStatus(res.data.res.state);\n      setAdmins(res.data.res.admins.split(','));\n    });\n  });\n\n  const statusOnClickHandler = async (event) => {\n    console.log(event.target.innerText);\n    // const status = event.target.innerText.toLowerCase();\n    // const proxyRes = await axios.post(\n    //   `http://127.0.0.1:5000/campaigns_state/${name}?status=${status}`,\n    // );\n    // const { data } = proxyRes;\n    // const { success, res } = data;\n  };\n  return (\n    <div>\n      <div className=\"row\" className={CampaignManagerStyles.section}>\n        <div className=\"col-12\">\n          <h3 className={CampaignManagerStyles.header}>\n            <span>{name}</span>\n            {console.log(parties, count, status, admins)}\n            <ul className={`list-inline ${CampaignManagerStyles.statusList}`}>\n              {['setup', 'open', 'suspended', 'closed'].map((item) => (\n                <li\n                  key={item}\n                  className={`${CampaignManagerStyles.status} list-inline-item`}\n                  onClick={statusOnClickHandler}\n                >\n                  {item}\n                </li>\n              ))}\n            </ul>\n          </h3>\n          <h6>Admins:</h6>\n          <ul className=\"list-inline\">\n            {admins &&\n              admins.map((admin) => (\n                <li className=\"list-inline-item\">{admin}</li>\n              ))}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default CampaignManager;\n"]},"metadata":{},"sourceType":"module"}